<%# Main navigation bar - Cyberpunk style %>

<header class="border-b-2 border-cyber-grey bg-cyber-bg/95 backdrop-blur sticky top-0 z-50 py-4">
  <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">
    <%# Logo %>
    <%= link_to root_path, class: "font-display text-2xl text-white italic text-shadow-cyber" do %>
      e人の空间
    <% end %>

    <%# Nav Links %>
    <nav class="hidden md:flex gap-8">
      <%= link_to "Events", event_posts_path, class: "text-cyber-grey font-bold text-sm hover:text-cyber-crimson transition-colors #{request.path == event_posts_path ? 'text-cyber-crimson border-b-2 border-cyber-lime pb-1' : ''}" %>
      <%= link_to "Leaderboard", leaderboard_path, class: "text-cyber-grey font-bold text-sm hover:text-cyber-crimson transition-colors #{request.path == leaderboard_path ? 'text-cyber-crimson border-b-2 border-cyber-lime pb-1' : ''}" %>
      <%= link_to "About", about_path, class: "text-cyber-grey font-bold text-sm hover:text-cyber-crimson transition-colors #{request.path == about_path ? 'text-cyber-crimson border-b-2 border-cyber-lime pb-1' : ''}" %>
    </nav>

    <%# User Profile %>
    <div class="flex items-center gap-4">
      <% if current_user %>
        <%= link_to user_path(current_user), class: "skew-card border-2 border-cyber-grey px-4 py-2 flex items-center gap-2 hover:border-cyber-lime transition-colors" do %>
          <div class="w-2 h-2 bg-cyber-lime glow-lime"></div>
          <span class="text-sm font-bold"><%= current_user.name.split.first %></span>
        <% end %>

        <%= button_to destroy_user_session_path, method: :delete, class: "text-cyber-grey hover:text-cyber-crimson text-sm font-bold transition-colors" do %>
          Logout
        <% end %>
      <% else %>
        <%= link_to "Login", new_user_session_path, class: "text-cyber-lime font-bold text-sm hover:underline" %>
      <% end %>
    </div>
  </div>
</header>

<%# Hero Section (optional) %>
<% if local_assigns[:title] %>
  <section class="py-16 md:py-24 px-4">
    <div class="max-w-7xl mx-auto">
      <h1 class="font-display text-4xl md:text-6xl leading-tight mb-6">
        <%= local_assigns[:title] %>
      </h1>
      <% if local_assigns[:subtitle] %>
        <p class="text-cyber-grey text-lg border-l-4 border-cyber-lime pl-5 max-w-xl">
          <%= subtitle %>
        </p>
      <% end %>

      <% if local_assigns[:show_search] %>
        <div class="mt-8">
          <%= link_to search_event_posts_path, class: "inline-block" do %>
            <div class="skew-btn bg-cyber-card border-2 border-cyber-grey px-6 py-3 flex items-center gap-3 hover:border-cyber-lime transition-colors">
              <svg class="w-5 h-5 text-cyber-grey" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              <span class="text-cyber-grey">Search events...</span>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </section>
<% end %>
